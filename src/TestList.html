<!DOCTYPE html>
<html>

<head>
    <title>测试字段列表</title>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <!-- 请修改相对路径 -->
    <script src="../../../../../frame/fui/js/cssboot.js"></script>
</head>

<body>
<!-- 必须有，加载时的loading效果 -->
<div class="page-loading"></div>

<!-- toolbar区域 -->
<div class="fui-toolbar">
    <div class="btn-group mr10">
        <a class="mini-button" onclick="openAdd" id="btnAddRecord">
            新增记录
        </a>
        <a id="btnDel" class="mini-button" onclick="deleteData">
            删除选定
        </a>
    </div>
    <a class="mini-dataexport" id="dataexport" gridId="datagrid" fileName="查询列表"
       action="getExportModel" extraId="fui-form"></a>
</div>

<!-- 条件区域 -->
<div class="fui-condition">
    <div class="fui-form" id="fui-form">
        <div id="cform" role="form">
            <div role="row">
                <div role="control" label="单选按钮租">
                    <div class="mini-radiobuttonlist" action="raddiobuttontypeModel" id="search_raddiobuttontype"
                         bind="dataBean.raddiobuttontype" required="true" requiredErrorText="单选按钮租不能为空!"/>
                </div>
                <div role="control" label="复选框组">
                    <div class="mini-checkboxlist" action="checkboxgroupModel" id="search_checkboxgroup"
                         bind="dataBean.checkboxgroup"/>
                </div>
            </div>
            <div role="row">
                <div role="control" label="复选框">
                    <div class="mini-checkbox" id="search_checkboxtype" bind="dataBean.checkboxtype" required="true"
                         requiredErrorText="复选框不能为空!"/>
                </div>
                <div role="control" label="文本输入框">
                    <input id="search_textboxtype" class="mini-textbox" bind="dataBean.textboxtype"/></div>
            </div>
            <div role="row">
                <div role="control" label="下拉列表">
                    <input class="mini-combobox" action="comboboxtypeModel" id="search_comboboxtype"
                           bind="dataBean.comboboxtype" textField="text" valueField="id" emptyText="请选择..."/></div>
                <div role="control" label="字符串类型">
                    <input id="search_stringtype" class="mini-textbox" bind="dataBean.stringtype" /></div>
            </div>
            <div role="row">
                <div role="control" label="文本类型">
                    <input id="search_texttype" class="mini-textbox" bind="dataBean.texttype" />
                </div>
                <div role="control" label="整数类型">
                    <input id="search_integertype_integer" class="mini-textbox" bind="dataBean.integertype"/></div>
            </div>
            <div role="row">
                <div role="control" label="数字类型">
                    <input id="search_numrictype_number" class="mini-textbox" bind="dataBean.numrictype"/></div>
                <div role="control" label="日期类型">
                    <input class="mini-datepicker" bind="dataBean.datetype" id="search_datetype"/></div>
            </div>
        </div>
    </div>
    <a role="searcher" callback="searchData"></a></div>


<!-- 内容区域 -->
<div id="fuiContent" class="fui-content">
    <div id="datagrid" class="mini-datagrid" idField="rowguid" action="getDataGridData" sortOrder="desc"
         showPager="true" style="height: 100%;" allowResize="true" multiSelect="true" allowCellEdit="true"
         allowCellSelect="true" editNextOnEnterKey="true" editNextRowCell="true">
        <div property="columns">
            <div type="checkcolumn" width="40"></div>
            <div type="indexcolumn" width="40" headerAlign="center">序</div>
            <div field="raddiobuttontype" data-options="{code:'处罚种类'}">
                单选按钮租
            </div>
            <div field="checkboxgroup" data-options="{code:'处罚种类'}">
                复选框组
            </div>
            <div field="checkboxtype" data-options="{code:'学历'}">
                复选框
            </div>
            <div field="textboxtype">
                文本输入框
            </div>
            <div field="comboboxtype" data-options="{code:'事故性质认定'}">
                下拉列表
            </div>
            <div field="stringtype">
                字符串类型
            </div>
            <div field="texttype">
                文本类型
            </div>
            <div field="integertype">
                整数类型
            </div>
            <div field="numrictype">
                数字类型
            </div>
            <div field="datetype" data-options="{'format':'yyyy-MM-dd HH:mm:ss'}" dateFormat="yyyy-MM-dd HH:mm:ss">
                日期类型
            </div>
            <div width="50" align="center" headerAlign="center" renderer="onEditRenderer">
                修改
            </div>
            <div width="50" align="center" headerAlign="center" renderer="onDetailRenderer">
                查看
            </div>
        </div>
    </div>
</div>

<!-- 请修改相对路径 -->
<script src="../../../../../rest/resource/jsboot"></script>
<script>
    // 初始化页面
    epoint.initPage('testcolumninfolistaction');

    // 绘制行编辑按钮
    var onEditRenderer = function (e) {
        return epoint.renderCell(e, "action-icon icon-edit", "openEdit");
    };

    // 绘制行查看按钮
    var onDetailRenderer = function (e) {
        return epoint.renderCell(e, "action-icon icon-search", "openDetail");
    };

    // 弹出新增窗口
    function openAdd() {
        epoint.openDialog('新增记录', "frame/pages/szjs/zhgd/testcolumninfo/testcolumninfoadd", searchData, {
            'width': 1000,
            'height': 550
        });
    }

    // 弹出修改窗口
    function openEdit(id) {
        epoint.openDialog('修改记录', "frame/pages/szjs/zhgd/testcolumninfo/testcolumninfoedit?guid=" + id, searchData, {
            'width': 1000,
            'height': 550
        });
    }

    // 弹出明细窗口
    function openDetail(id) {
        epoint.openDialog('详细信息', "frame/pages/szjs/zhgd/testcolumninfo/testcolumninfodetail?guid=" + id, {
            'width': 1000,
            'height': 550
        });
    }

    // 删除数据
    function deleteSelect() {
        epoint.execute("deleteSelect", '', callback);
    }


    function callback(data) {
        if (data.msg) {
            epoint.alert(data.msg, '', searchData, 'info');
        }
    }

    // 表格的搜索
    function searchData() {
        epoint.refresh(['datagrid', 'fui-form'], '', true);
    }

    function deleteData() {
        if (mini.get('datagrid').getSelecteds().length == 0) {
            epoint.alert('请选择要删除的记录!', '', null, 'warning');
        } else {
            epoint.confirm('确认要删除吗?', '', deleteSelect);
        }
    }
</script>
</body>
</html>